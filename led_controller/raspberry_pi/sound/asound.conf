#
# ALSA configuration to create a 4-channel playback device
# by combining two separate stereo sound cards.
#

# Define PCM slaves for each physical sound card.
# This makes the configuration cleaner and easier to read.
pcm.card_one {
    type hw
    card 0  # <-- IMPORTANT: Replace "0" with the index of your first card.
}

pcm.card_two {
    type hw
    card 4  # <-- IMPORTANT: Replace "4" with the index of your second card.
}

# Create the multi-channel device using the 'multi' plugin.
# This plugin interleaves the channels from the two slave devices.
pcm.fourplay {
    type multi

    # Define the slave devices to combine.
    slaves.a {
        pcm "card_one"      # The first stereo device.
        channels 2          # It provides 2 channels.
    }
    slaves.b {
        pcm "card_two"      # The second stereo device.
        channels 2          # It provides 2 channels.
    }

    # Define the channel bindings. This maps the input channels of the
    # 'multi' device to the output channels of the slave devices.
    bindings {
        # Channel 0 of 'four_channel_playback' goes to channel 0 of slave 'a' (Card 1, Left).
        0 { slave a; channel 0; }
        # Channel 1 of 'four_channel_playback' goes to channel 1 of slave 'a' (Card 1, Right).
        1 { slave a; channel 1; }
        # Channel 2 of 'four_channel_playback' goes to channel 0 of slave 'b' (Card 2, Left).
        2 { slave b; channel 0; }
        # Channel 3 of 'four_channel_playback' goes to channel 1 of slave 'b' (Card 2, Right).
        3 { slave b; channel 1; }
    }
}

ctl.fourplay {
    type hw
    card 0
}
